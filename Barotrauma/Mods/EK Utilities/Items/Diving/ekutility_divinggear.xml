<?xml version="1.0" encoding="utf-8"?>
<Items>

  <Item name="Reinforced Oxygen Tank" identifier="ekutility_reinforcedtank_oxygen" aliases="ekutility_heavytank_oxygen,heavy oxygen tank" category="Equipment,Misc" Tags="smallitem,oxygensource,oxygentank,refillableoxygensource" cargocontaineridentifier="metalcrate" scale="0.3" 
  description="High-pressure composite tank, resistant to puncture and heat." impactsoundtag="impact_metal_light" maxstacksize="4">
    <!--<Price locationtype="City" buyprice="110" />
    <Price locationtype="Research" buyprice="125" />
    <Price locationtype="Military" buyprice="130" />
    <Price locationtype="Outpost" buyprice="125" />-->
	
	<!-- 
	base price 75
	
	titaniumaluminiumalloy 90
	ballisticfiber 37
	-->
	
    <PreferredContainer primary="divingcab" minamount="1" maxamount="5" spawnprobability="0.5"/>
    <PreferredContainer primary="oxygentankcontainer"/>
    <PreferredContainer primary="divingsuit,divingmask,plasmacutter" spawnprobability="1.0"/>
	
    <Price baseprice="120" minleveldifficulty="25">
      <Price locationtype="outpost" multiplier="1" minavailable="8" />
      <Price locationtype="city" multiplier="0.9" minavailable="12" />
      <Price locationtype="research" multiplier="1.25" minavailable="8" />
      <Price locationtype="military" multiplier="1.25" minavailable="6" />
      <Price locationtype="mine" multiplier="0.9" minavailable="5" />
    </Price>
	
    <Deconstruct time="10">
      <Item identifier="titaniumaluminiumalloy" outcondition="0.5" />
      <Item identifier="ballisticfiber" outcondition="0.25" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" outcondition="0.0" requiredtime="8" amount="4" >
      <RequiredItem identifier="titaniumaluminiumalloy" />
      <RequiredItem identifier="titaniumaluminiumalloy" />
      <RequiredItem identifier="ballisticfiber" />
    </Fabricate>
    <Fabricate suitablefabricators="fabricator" outcondition="0.0" requiredtime="2" >
      <RequiredItem identifier="titaniumaluminiumalloy" mincondition="0.5" usecondition="true" />
      <RequiredItem identifier="ballisticfiber" mincondition="0.25" usecondition="true" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="64,0,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="0,0,48,112" depth="0.55" origin="0.5,0.5" />
    <Body width="42" height="108" density="8" />
    <Holdable slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect"/>
  </Item>

  <Item name="Reinforced Oxygenite Tank" identifier="ekutility_reinforcedtank_oxygenite" aliases="ekutility_heavytank_oxygenite,heavy oxygenite tank" category="Equipment,Misc" Tags="smallitem,oxygensource,oxygenitetank" scale="0.3" 
  description="High-pressure composite tank, resistant to puncture and heat." impactsoundtag="impact_metal_light" maxstacksize="4">
    <!--<Price locationtype="Research" buyprice="300" />-->

    <Price baseprice="300" soldeverywhere="false" minleveldifficulty="25">
      <Price locationtype="outpost" multiplier="1" sold="false"/>
      <Price locationtype="city" multiplier="1.1" sold="false"/>
      <Price locationtype="research" multiplier="1.25" sold="false"/>
      <Price locationtype="military" multiplier="1.25" sold="false"/>
      <Price locationtype="mine" multiplier="1.5" sold="false"/>
    </Price>

	<!-- 
	base price 175
	
	titaniumaluminiumalloy 90
	ballisticfiber 37
	liquidoxygenite 160
	-->

    <Deconstruct time="10">
      <Item identifier="titaniumaluminiumalloy" outcondition="0.5" />
      <Item identifier="ballisticfiber" outcondition="0.25" />
      <Item identifier="liquidoxygenite" copycondition="true" />
      <Item identifier="liquidoxygenite" copycondition="true" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" outcondition="100.0" requiredtime="2">
      <RequiredItem identifier="titaniumaluminiumalloy" mincondition="0.5" usecondition="true" />
      <RequiredItem identifier="ballisticfiber" mincondition="0.25" usecondition="true" />
      <RequiredItem identifier="liquidoxygenite" />
      <RequiredItem identifier="liquidoxygenite" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="64,64,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="0,112,48,112" depth="0.55" origin="0.5,0.5" />
    <Body width="42" height="108" density="8" />
    <Holdable slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect"/>
  </Item> 

  <Item name="Rebreather Unit" identifier="ekutility_rebreatherunit" aliases="rebreather,ekutility_rebreather" category="Equipment,Misc" Tags="smallitem,oxygensource,oxygentank,refillableoxygensource" cargocontaineridentifier="metalcrate" scale="0.3" 
  description="Experimental self-contained rebreather unit, its connections are designed to be compatible with most standard coalition diving equipment. Requires batteries and internal oxygen storage to function." impactsoundtag="impact_metal_light">
    <!--<Price locationtype="Research" buyprice="255" />-->
    <!--<Price locationtype="Military" buyprice="300" />-->
	
    <Price baseprice="275" soldeverywhere="false" minleveldifficulty="33">
      <Price locationtype="outpost" multiplier="1.1" sold="false" />
      <Price locationtype="city" multiplier="1.25" sold="false" />
      <Price locationtype="research" multiplier="1" minavailable="4" />
      <Price locationtype="military" multiplier="1.25" sold="false" />
      <Price locationtype="mine" multiplier="1" sold="false" />
    </Price>

	
    <Deconstruct time="10">
      <Item identifier="titaniumaluminiumalloy" />
      <Item identifier="fpgacircuit" />
      <Item identifier="carbon" />
      <Item identifier="lithium" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" outcondition="0.2" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="30" />
      <RequiredSkill identifier="medical" level="60" />
      <RequiredSkill identifier="medical" level="60" />
      <RequiredItem identifier="titaniumaluminiumalloy" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="carbon" />
      <RequiredItem identifier="lithium" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="128,0,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="64,128,96,80" depth="0.55" origin="0.5,0.55" />
    <Body width="85" height="60" density="15" />

    <Holdable slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect" >
      <StatusEffect type="Always" target="This" targetitemcomponent="LightComponent" IsOn="true" disabledeltatime="true" delay="3.5">
        <Conditional Condition="lt 99" />
      </StatusEffect>
      <StatusEffect type="Always" target="This" targetitemcomponent="LightComponent" IsOn="false" disabledeltatime="true" delay="3.5">
        <Conditional Condition="gt 99" />
      </StatusEffect>
    </Holdable>

    <LightComponent characterusable="false" LightColor="0,0,0,0" range="1" IsOn="false">
	  <StatusEffect type="OnActive" target="This" Condition="0.6">
        <RequiredItem identifier="batterycell,fulguriumbatterycell" type="Contained" />
	  </StatusEffect>
	  <StatusEffect type="OnActive" target="Contained" Condition="-0.18" >
        <RequiredItem identifier="batterycell" type="Contained" />
	  </StatusEffect>
	  <StatusEffect type="OnActive" target="Contained" Condition="-0.09" >
        <RequiredItem identifier="fulguriumbatterycell" type="Contained" />
	  </StatusEffect>
    </LightComponent>

    <ItemContainer autofill="False" capacity="1" maxstacksize="1" hideitems="true">
      <ContainedStateIndicator texture="Content/UI/ContainerIndicators.png" sourcerect="0,184,120,32" />
      <Containable identifiers="batterycell,fulguriumbatterycell" />
    </ItemContainer>
  </Item>

  <Item name="Jetscooter" identifier="ekutility_jetscooter" aliases="ekutility_experimentalscooter" category="Equipment" Tags="smallitem,provocative,scooter,underwaterscooter,light" cargocontaineridentifier="metalcrate" 
  description="Advanced underwater propulsion device. Features improved battery lifetime and a built-in sonar navigation system." Scale="0.32" impactsoundtag="impact_metal_light" isshootable="true">
    <!--<Price locationtype="Research" buyprice="160" />-->

    <Price baseprice="170" soldeverywhere="false" minleveldifficulty="25">
      <Price locationtype="outpost" multiplier="1.1" minavailable="1"/>
      <Price locationtype="city" multiplier="1.25" minavailable="2"/>
      <Price locationtype="research" multiplier="1" minavailable="3"/>
      <Price locationtype="military" multiplier="1.25" minavailable="2"/>
      <Price locationtype="mine" multiplier="0.9" sold="false"/>
    </Price>

    <Deconstruct time="25">
      <Item identifier="aluminium" />
      <Item identifier="fpgacircuit" />
      <Item identifier="steel" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="25">
      <RequiredSkill identifier="mechanical" level="40" />
      <RequiredItem identifier="aluminium" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="steel" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="128,64,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" depth="0.55" sourcerect="192,0,320,160" />
    <Body width="228" height="96" density="10" />
    <Holdable slots="Any,RightHand+LeftHand" aimpos="90,0" handle1="-50,55" handle2="-54,59" msg="ItemMsgPickUpSelect" />
    <Propulsion force="200" usablein="water" particles="bubbles">
      <RequiredItems identifier="mobilebattery" type="Contained" msg="ItemMsgBatteryCellRequired" />
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.4">
        <RequiredItem items="batterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.2">
        <RequiredItem items="fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.4">
        <RequiredItem excludedidentifiers="batterycell,fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <sound file="Content/Items/Diving/ScooterLoop.ogg" type="OnUse" range="500.0" loop="true" />
      <LightComponent LightColor="1.0,1.0,1.0,0.8" range="1000" AllowInGameEditing="false">
        <LightTexture texture="Content/Lights/lightcone.png" origin="0.05, 0.5" size="1.0,1.0" />
      </LightComponent>
    </Propulsion>
    <Sonar range="6000.0" powerconsumption="10" drawhudwhenequipped="true" detectsubmarinewalls="true" displaybordersize="-0.1" characterusable="false" hasmineralscanner="true" allowuioverlap="true">
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.5" disabledeltatime="true">
        <RequiredItem items="batterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.25" disabledeltatime="true">
        <RequiredItem items="fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnUse" targettype="Contained" Condition="-0.5" disabledeltatime="true">
        <RequiredItem excludedidentifiers="batterycell,fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <sound file="Content/Items/Command/SonarPing.ogg" type="OnUse" range="1000.0" />
      <GuiFrame relativesize="0.4,0.4" anchor="CenterLeft" relativeoffset="0.006,-0.01"/>
      <PingCircle texture="Content/Items/Command/pingCircle.png" origin="0.5,0.5" />
      <DirectionalPingCircle texture="Content/Items/Command/directionalPingCircle.png" origin="0.0,0.5" />
      <ScreenOverlay texture="Content/Items/Command/sonarOverlay.png" origin="0.5,0.5" />
      <ScreenBackground texture="Content/Items/Command/sonarBackground.png" origin="0.5,0.5" />
      <DirectionalPingBackground texture="Content/Items/Command/directionalPingBackground.png" origin="0.5,0.5" />
      <DirectionalPingButton index="0" texture="Content/Items/Command/directionalPingButton.png" sourcerect="0,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="1" texture="Content/Items/Command/directionalPingButton.png" sourcerect="133,0,91,266" origin="-4.5275,0.5" />
      <DirectionalPingButton index="2" texture="Content/Items/Command/directionalPingButton.png" sourcerect="266,0,91,266" origin="-4.5275,0.5" />
      <Blip texture="Content/Items/Command/sonarBlip.png" origin="0.5,0.5" />
      <LineSprite texture="Content/Items/Command/NavUI.png" sourcerect="181,141,109,4" origin="0,0.5"/>
      <icon identifier="outpost" texture="Content/UI/MainIconsAtlas.png" sourcerect="352,398,16,8" origin="0.5,0.5"/>
      <icon identifier="submarine" texture="Content/UI/MainIconsAtlas.png" sourcerect="353,407,14,6" origin="0.5,0.5"/>
      <icon identifier="shuttle" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,407,8,6" origin="0.5,0.5"/>
      <icon identifier="artifact" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,414,8,8" origin="0.5,0.5"/>
      <icon identifier="mineral" texture="Content/UI/MainIconsAtlas.png" sourcerect="336,434,7,12" origin="0.5,0.5"/>
      <icon identifier="" texture="Content/UI/MainIconsAtlas.png" sourcerect="346,416,4,4" origin="0.5,0.5"/>
    </Sonar>
    <ItemContainer autofill="False" capacity="1" maxstacksize="1" hideitems="true">
      <ContainedStateIndicator texture="Content/UI/ContainerIndicators.png" sourcerect="0,184,120,32" />
      <Containable items="mobilebattery">
        <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" />
      </Containable>
    </ItemContainer>
    <AiTarget soundrange="2000"/>
  </Item>

<!--  <Item name="Advanced Sonar Beacon" identifier="ekutility_advancedsonarbeacon" category="Equipment" Tags="smallitem,sonar" preferredcontainers="locker" cargocontaineridentifier="metalcrate" Scale="0.32" impactsoundtag="impact_metal_light">
    <Price locationtype="City" buyprice="100" />
    <Price locationtype="Research" buyprice="100" />
    <Price locationtype="Military" buyprice="150" />
    <Price locationtype="Outpost" buyprice="150" />
    <Deconstruct time="15">
      <Item identifier="fpgacircuit" />
      <Item identifier="plastic" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="15">
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="plastic" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="512,0,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" depth="0.55" sourcerect="512,64,48,128" origin="0.5,0.63" />
    <Body width="40" height="100" density="10" />
    <Holdable slots="Any,RightHand,LeftHand" holdangle="30" handle1="-10,0" msg="ItemMsgPickUpSelect" />
    <AiTarget soundrange="5000" sonarlabel="Signal - Beacon" />
    <LightComponent LightColor="0.25,1.0,0.3,1.0" range="50" powerconsumption="10" blinkfrequency="2" IsOn="false" canbeselected="false">
      <StatusEffect type="OnActive" targettype="Contained" Condition="-0.1" />
      <StatusEffect type="OnActive" targettype="This" SoundRange="10000" setvalue="true" />
      <sound file="Content/Items/WarningBeep.ogg" type="OnActive" range="500.0" loop="true" volume="0.25" />
    </LightComponent>
    <CustomInterface canbeselected="true" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.15,0.2" anchor="BottomLeft" absoluteoffset="20,20" style="ItemUI" />
      <TickBox text="Beacon Active">
        <StatusEffect type="OnUse" targettype="This" IsOn="true" />
        <StatusEffect type="OnSecondaryUse" targettype="This" IsOn="false" />
      </TickBox>
      <Button text="Mode - Beacon" >
        <StatusEffect type="OnUse" targettype="This" targetitemcomponent="AiTarget" sonarlabel="Signal - Beacon" disabledeltatime="true" >
          <sound file="Content\Items\Button\Switch1.ogg" type="OnActive" range="250.0" loop="false" volume="0.3" />
        </StatusEffect>
      </Button>
      <Button text="Mode - Point of Interest" >
        <StatusEffect type="OnUse" targettype="This" targetitemcomponent="AiTarget" sonarlabel="Signal - Point of Interest" disabledeltatime="true" >
          <sound file="Content\Items\Button\Switch1.ogg" type="OnActive" range="250.0" loop="false" volume="0.3" />
        </StatusEffect>
      </Button>
      <Button text="Mode - Follow Me" >
        <StatusEffect type="OnUse" targettype="This" targetitemcomponent="AiTarget" sonarlabel="Signal - Follow Me" disabledeltatime="true" >
          <sound file="Content\Items\Button\Switch1.ogg" type="OnActive" range="250.0" loop="false" volume="0.3" />
        </StatusEffect>
      </Button>
      <Button text="Mode - S O S" >
        <StatusEffect type="OnUse" targettype="This" targetitemcomponent="AiTarget" sonarlabel="Signal - Distress Beacon" disabledeltatime="true" >
          <sound file="Content\Items\Button\Switch1.ogg" type="OnActive" range="250.0" loop="false" volume="0.3" />
        </StatusEffect>
      </Button>
    </CustomInterface>
    <ItemContainer autofill="False" capacity="1" hideitems="true">
      <ContainedStateIndicator texture="Content/UI/ContainerIndicators.png" sourcerect="0,184,120,32" />
      <Containable items="mobilebattery">
        <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" />
      </Containable>
    </ItemContainer>
  </Item> -->

  <Item name="Advanced Sonar Beacon" identifier="ekutility_advancedsonarbeacon" category="Equipment" Tags="smallitem,sonar" cargocontaineridentifier="metalcrate"
	description="A handheld positional beacon transmitter, an invaluable tool for extravehicular operations." Scale="0.35" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="crewcab,supplycab"/>
    <!--<Price locationtype="City" buyprice="150" />
    <Price locationtype="Research" buyprice="150" />
    <Price locationtype="Military" buyprice="200" />
    <Price locationtype="Outpost" buyprice="200" />-->

    <Price baseprice="150" soldeverywhere="false" minleveldifficulty="25">
      <Price locationtype="outpost" multiplier="1.25" sold="false"/>
      <Price locationtype="city" multiplier="1" minavailable="1" />
      <Price locationtype="research" multiplier="1" minavailable="1" />
      <Price locationtype="military" multiplier="1.5" minavailable="1" />
      <Price locationtype="mine" multiplier="1" sold="false" />
    </Price>

    <Deconstruct time="15">
      <Item identifier="fpgacircuit" />
      <Item identifier="fpgacircuit" />
      <Item identifier="steel" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="15">
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="steel" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="512,0,64,64" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" depth="0.55" sourcerect="512,64,48,128" origin="0.5,0.63" />
    <Body width="40" height="100" density="10" />
    <Holdable slots="Any,RightHand,LeftHand" holdangle="30" handle1="-10,0" msg="ItemMsgPickUpSelect" />
    <AiTarget soundrange="5000" sonarlabel="entityname.sonarbeacon" />
    <LightComponent LightColor="0.4,1.0,0.3,0.7" range="20" powerconsumption="10" Flicker="0.35" IsOn="false" canbeselected="false">
      <StatusEffect type="OnActive" targettype="Contained" Condition="-0.1">
        <RequiredItem items="batterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="Contained" Condition="-0.05">
        <RequiredItem items="fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="Contained" Condition="-0.1">
        <RequiredItem excludedidentifiers="batterycell,fulguriumbatterycell" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="This" SoundRange="6000" setvalue="true" >
		<sound file="Mods/EK Utilities/Items/Diving/ek_advancedbeacon_ping.ogg" range="3000.0" loop="true" volume="0.5" />
      </StatusEffect>
      <StatusEffect type="OnActive" targettype="This" >
		<sound file="Mods/EK Utilities/Items/Diving/ek_advancedbeacon_noise.ogg" range="750.0" loop="true" volume="0.3" />
      </StatusEffect>
    </LightComponent>
	<!--
    <CustomInterface canbeselected="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.12,0.08" anchor="BottomLeft" absoluteoffset="20,128" style="ItemUI" />
      <TickBox text="sonarbeacon.beaconactive">
        <StatusEffect type="OnUse" targettype="This" IsOn="true" />
        <StatusEffect type="OnSecondaryUse" targettype="This" IsOn="false" />
      </TickBox>
      <TextBox text="sonarbeacon.beaconsignal" propertyname="SonarLabel"/>
    </CustomInterface>
	-->
    <CustomInterface canbeselected="false" drawhudwhenequipped="true" allowuioverlap="true">
      <GuiFrame relativesize="0.16,0.15" anchor="CenterLeft" pivot="BottomLeft" relativeoffset="0.006,-0.05" style="ItemUI" />
      <TickBox text="sonarbeacon.beaconactive">
        <StatusEffect type="OnUse" targettype="This" IsOn="true" />
        <StatusEffect type="OnSecondaryUse" targettype="This" IsOn="false" />
      </TickBox>
      <TextBox text="sonarbeacon.beaconsignal" propertyname="SonarLabel"/>
    </CustomInterface>
	
    <ItemContainer autofill="False" capacity="1" maxstacksize="1" hideitems="true">
      <ContainedStateIndicator texture="Content/UI/ContainerIndicators.png" sourcerect="0,184,120,32" />
      <Containable items="mobilebattery">
        <StatusEffect type="OnContaining" targettype="This" Voltage="1.0" setvalue="true" />
      </Containable>
    </ItemContainer>
  </Item>

  <Item name="Utility Mk-I Hardsuit" identifier="ekutility_Utility_hardsuit" aliases="utility_hardsuit,industrial hardsuit,industrial_hardsuit" category="Equipment" tags="diving,provocative,deepdiving,divingsuit,light" scale="0.5" fireproof="true" 
  description="A rugged pressure suit designed for shipyard construction, mining, and salvage operations. The suit provides moderate insulation from electrical and thermal hazards, while manipulator gloves allow the wearer to operate tools and equiptment as normal. [ Rated 6000m ]" allowdroppingonswap="true" impactsoundtag="impact_metal_heavy">
    <!--
	"A rugged pressure suit designed for construction, mining, and salvage operations."
	
	<Price locationtype="Mine" buyprice="700" />
    <Price locationtype="City" buyprice="650" />
    <Price locationtype="Research" buyprice="500" />
	-->
	
	<!-- 
	150
	80
	80
	20
	20
	-->
    <Price baseprice="350" soldeverywhere="false" minleveldifficulty="25">
      <Price locationtype="outpost" multiplier="1" sold="false"/>
      <Price locationtype="city" multiplier="1.15" minavailable="3"/>
      <Price locationtype="research" multiplier="1" minavailable="4"/>
      <Price locationtype="military" multiplier="0.8" sold="false"/>
      <Price locationtype="mine" multiplier="1.25" minavailable="2"/>
    </Price>
	
    <Deconstruct time="30">
      <Item identifier="titaniumaluminiumalloy" />
      <Item identifier="fpgacircuit" />
      <Item identifier="fpgacircuit" />
      <Item identifier="rubber" />
      <Item identifier="rubber" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="30">
      <RequiredSkill identifier="mechanical" level="40" />
      <RequiredSkill identifier="electrical" level="30" />
      <RequiredItem identifier="titaniumaluminiumalloy" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="fpgacircuit" />
      <RequiredItem identifier="rubber" />
      <RequiredItem identifier="rubber" />
    </Fabricate>

    <Sprite name="Diving Suit Item" texture="Mods/EK Utilities/Items/Diving/ekutility_divinglockersprites.png" sourcerect="130,0,124,128" depth="0.55" origin="0.5,0.5" />
	
    <InventoryIcon name="Diving Suit Item" texture="Mods/EK Utilities/Items/Diving/ekutility_divinglockersprites.png" sourcerect="0,0,64,64" />

    <ContainedSprite name="Diving Suit Behind Window" allowedcontainertags="divingsuitcontainerwindow" texture="utility_diving_suit_inlocker.png" sourcerect="12,30,77,209" depth="0.55" origin="-0.12,-0.13" />
    <ContainedSprite name="Diving Suit In Horizontal Locker" allowedcontainertags="divingsuitcontainerhorizontal" texture="Mods/EK Utilities/Items/Diving/ekutility_divinglockersprites.png" sourcerect="134,134,248,59" depth="0.55" origin="0.58,0.5" />

    <Body radius="45" width="34" density="15" />
	
    <!-- TODO: wait for this to work-->
	<CustomInterface canbeselected="false" drawhudwhenequipped="true">
      <GuiFrame relativesize="0.12,0.08" anchor="BottomLeft" absoluteoffset="20,138" style="ItemUI" />
      <TickBox text="Suit Lights" IsOn="true">
        <StatusEffect type="OnUse" target="This" IsOn="true" />
        <StatusEffect type="OnSecondaryUse" target="This" IsOn="false" />
      </TickBox>
    </CustomInterface>
	
	<!-- I'm just gonna leave this line here because its not like its breaking anything by itself, it just doesn't work yet -->
	<Holdable slots="RightHand+LeftHand" msg="ItemMsgPickUpUse" controlpose="true" holdpos="0,-50" handle1="-10,-20" handle2="10,-20" holdangle="45" canbeselected="false" canbepicked="true" pickkey="Use" allowswappingwhenpicked="false" />
	
    <Wearable slots="OuterClothes" msg="ItemMsgEquipSelect">
      <sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinglockersprites.png" limb="Head" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inheritorigin="true" inherittexturescale="true" sourcerect="256,0,96,96" origin="0.55,0.22">
        <LightComponent canbeselected="false" AllowInGameEditing="false" range="400.0" lightcolor="250,200,170,40" powerconsumption="10" IsOn="true">
          <StatusEffect type="OnWearing" target="This,Character" Voltage="1.0" setvalue="true">
            <Conditional IsDead="false" />
          </StatusEffect>
          <LightTexture texture="Mods/EK Utilities/Lights/pointlight_bright.png" origin="0.5, 0.56" size="1.0,1.0" />
        </LightComponent>
      </sprite>
      <sprite texture="utility_diving_suit.png" limb="Torso" inheritlimbdepth="true" hidelimb="true" hideotherwearables="false" 
	  inherittexturescale="true" origin="0.60,0.41" sourcerect="0,0,128,256">
        <LightComponent canbeselected="false" AllowInGameEditing="false" range="500.0" lightcolor="250,200,170,200" powerconsumption="10" IsOn="true">
          <StatusEffect type="OnWearing" target="This,Character" Voltage="1.0" setvalue="true">
            <Conditional IsDead="false" />
          </StatusEffect>
          <LightTexture texture="Mods/EK Utilities/Lights/utility_divingsuit_light.png" origin="0.002, 0.565" size="1.0,1.0" />
        </LightComponent>
      </sprite>
      <sprite texture="utility_diving_suit.png" limb="Waist" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.4397959,0.7111111" sourcerect="0,416,96,112"/> <!--0.4897959,0.6111111-->
      <sprite texture="utility_diving_suit.png" limb="RightHand" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.5576271,0.484375" sourcerect="192,16,64,112"/> <!--0.4576271,0.484375-->
      <sprite texture="utility_diving_suit.png" limb="LeftHand" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.5576271,0.484375" sourcerect="192,144,64,112"/>
      <sprite texture="utility_diving_suit.png" limb="RightArm" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.4868421,0.3658537" sourcerect="128,0,64,128"/>
      <sprite texture="utility_diving_suit.png" limb="LeftArm" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.4868421,0.3658537" sourcerect="128,128,64,128"/>
      <sprite texture="utility_diving_suit.png" limb="RightThigh" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" inheritorigin="true" sourcerect="80,256,96,160"/>
      <sprite texture="utility_diving_suit.png" limb="LeftThigh" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" inheritorigin="true" sourcerect="176,256,96,160"/>
      <sprite texture="utility_diving_suit.png" limb="RightLeg" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" inheritorigin="true" sourcerect="96,416,80,112"/>
      <sprite texture="utility_diving_suit.png" limb="LeftLeg" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" inheritorigin="true" sourcerect="176,416,80,112"/>
      <sprite texture="utility_diving_suit.png" limb="RightFoot" sound="footstep_armor_heavy" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.4520548,0.4117647" sourcerect="0,256,80,112"/>
      <sprite texture="utility_diving_suit.png" limb="LeftFoot" sound="footstep_armor_heavy" inheritlimbdepth="true" hidelimb="true" hideotherwearables="true" 
	  inherittexturescale="true" origin="0.4520548,0.4117647" sourcerect="0,256,80,112"/>

      <StatusEffect type="OnContained" target="Contained" Condition="1.0">
        <Conditional Voltage="gt 0.01" targetcontainer="true" targetgrandparent="true" targetitemcomponent="Powered" />
        <RequiredItem items="oxygentank" type="Contained" excludebroken="false" />
      </StatusEffect>

      <StatusEffect type="OnWearing" target="Character" HideFace="true" ObstructVision="true" PressureProtection="6000.0" SpeedMultiplier="0.55" LowPassMultiplier="0.2" setvalue="true" disabledeltatime="true">
        <Sound file="Content/Items/Diving/DivingSuitLoop1.ogg" range="500" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="-100.0" Oxygen="-20.0" Condition="-0.37">
        <Conditional IsDead="false" />
        <RequiredItem identifier="weldingfueltank" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="-100.0" Oxygen="-20.0" Condition="-0.37">
        <RequiredItem identifier="incendiumfueltank" type="Contained" />
        <Affliction identifier="burn" amount="0.1" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="1000.0" Condition="-0.2" comparison="Or">
        <Conditional IsDead="false" />
        <RequiredItem identifier="oxygentank" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="1000.0" SpeedMultiplier="1.2" Condition="-0.2" comparison="Or">
        <Conditional IsDead="false" />
        <RequiredItem identifier="oxygeniteshard" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="1500.0" SpeedMultiplier="1.3" Condition="-0.07" comparison="Or">
        <Conditional IsDead="false" />
        <RequiredItem identifier="oxygenitetank" type="Contained" />
      </StatusEffect>
	  <!-- We get to define item-side effects for once so might aswell make use of it -->
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="1000.0" Condition="-0.07" comparison="Or">
        <Conditional IsDead="false" />
        <RequiredItem identifier="tag_oxygencell1" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Contained,Character" OxygenAvailable="1500.0" Condition="-0.05" comparison="Or">
        <Conditional IsDead="false" />
        <RequiredItem identifier="tag_oxygencell2" type="Contained" />
      </StatusEffect>
      <StatusEffect type="OnWearing" target="Character" OxygenAvailable="-75.0" />
	  <!--
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="damage" damagemultiplier="0.7" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="burn" damagemultiplier="0.15" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="bleeding" damagemultiplier="0.5" probabilitymultiplier="0.5" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="stun" damagemultiplier="0.5" probabilitymultiplier="0.25" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="lacerations" damagemultiplier="0.45" probabilitymultiplier="0.45" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="radiationsickness" damagemultiplier="0.0" damagesound="LimbArmor"/> 
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="radiation,exposure,glowing" damagemultiplier="0.0" damagesound="LimbArmor"/> 
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="alieninfection,poison,paralysis" damagemultiplier="0.32" probabilitymultiplier="0.32" damagesound="LimbArmor"/>
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="organdamage" damagemultiplier="0.32" probabilitymultiplier="0.32" damagesound="LimbArmor"/>
	  <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="hallucinating" damagemultiplier="0.4" />
	  -->
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="blunttrauma,gunshotwound,bitewounds" damagemultiplier="0.7" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="lacerations" damagemultiplier="0.45" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="burn" damagemultiplier="0.15" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="bleeding" damagemultiplier="0.5" probabilitymultiplier="0.5" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="stun" damagemultiplier="0.5" damagesound="LimbArmor" deflectprojectiles="true" />
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="radiationsickness" damagemultiplier="0.0" damagesound="LimbArmor"/> 
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="radiation,exposure,glowing" damagemultiplier="0.0" damagesound="LimbArmor"/> 
      <damagemodifier armorsector="0.0,360.0" afflictiontypes="alieninfection,poison,paralysis" damagemultiplier="0.35" probabilitymultiplier="0.32" damagesound="LimbArmor"/>
      <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="organdamage" damagemultiplier="0.35" probabilitymultiplier="0.32" damagesound="LimbArmor"/>
	  <damagemodifier armorsector="0.0,360.0" afflictionidentifiers="hallucinating" damagemultiplier="0.4" />
	  <!-- Skyrim Logic -->
      <SkillModifier skillidentifier="mechanical" skillvalue="15"/>
      <SkillModifier skillidentifier="electrical" skillvalue="30"/>
    </Wearable>
	
    <ItemContainer autofill="False" capacity="1" maxstacksize="1" hideitems="true">
      <ContainedStateIndicator texture="Content/UI/ContainerIndicators.png" sourcerect="0,96,120,24" />
      <Containable identifiers="oxygentank,weldingfueltank,oxygeniteshard,oxygenitetank,incendiumfueltank,oxygensource" />
      <StatusEffect type="OnWearing" target="Contained">
        <RequiredItem identifier="oxygensource" type="Contained" matchonempty="true"/>
        <Conditional condition="lt 5.0" />
        <Sound file="Content/Items/WarningBeep.ogg" range="500" />
      </StatusEffect>
    </ItemContainer>
    <!-- TODO: Wait for multiple container GUI support
	<ItemContainer autofill="False" capacity="16" canbeselected="true" keepopenwhenequipped="true" movableframe="true">
      <Containable items="smallitem" excludeditems="toolbox" />
    </ItemContainer>
	-->
  </Item>

  <Item name="Oxygen Cell Mk-I" identifier="ekutility_oxygencell1" category="Equipment,Misc" maxstacksize="3" Tags="smallitem,oxygensource,tag_oxygencell1" cargocontaineridentifier="metalcrate" scale="0.3"
    description="Hardsuit non-rechargable oxygen supply which utilizes chemical reagents to produce a large density of oxygen."  impactsoundtag="impact_metal_light" >
    <PreferredContainer primary="oxygentankcontainer,divingcab"/>
    <Price baseprice="120" soldeverywhere="false" minleveldifficulty="25"> <!-- Why does a vanilla oxygen tank sell for more than twice it's value? -->
      <Price locationtype="outpost" multiplier="1" sold="false"/>
      <Price locationtype="city" multiplier="0.9" sold="false"/>
      <Price locationtype="research" multiplier="1" sold="true" minavailable="3"/>
      <Price locationtype="military" multiplier="1" sold="false"/>
      <Price locationtype="mine" multiplier="1.25" sold="true" minavailable="2"/>
    </Price>
	<!-- 60
	42
	(75)
	2.5
	5.5
	16.5
	-->
    <Deconstruct time="10">
      <Item identifier="aluminium" />
      <Item identifier="iron" />
      <Item identifier="chlorine" outcondition="0.5" />
      <Item identifier="sodium" outcondition="0.5" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="15">
      <RequiredSkill identifier="medical" level="50" />
      <RequiredItem identifier="aluminium" />
      <RequiredItem identifier="oxygentank" mincondition="0.99" usecondition="true"/>
      <RequiredItem identifier="iron" />
      <RequiredItem identifier="chlorine" />
      <RequiredItem identifier="sodium" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="128,224,64,64" origin="0.5,0.5" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="0,224,48,112" depth="0.55" origin="0.5,0.5" />
    <Body width="22" height="64" density="9.9" />
    <Holdable canbecombined="true" slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect"/>
  </Item>

  <Item name="Oxygen Cell Mk-II" identifier="ekutility_oxygencell2" category="Equipment,Misc" maxstacksize="3" Tags="smallitem,oxygensource,tag_oxygencell2" cargocontaineridentifier="metalcrate" scale="0.3"
    description="Hardsuit non-rechargable oxygen supply which utilizes chemical reagents to produce a large density of oxygen."  impactsoundtag="impact_metal_light" >
    <PreferredContainer primary="oxygentankcontainer,divingcab"/>
    <Price baseprice="185" soldeverywhere="false" > <!-- Why does a vanilla oxygen tank sell for more than twice it's value? -->
      <Price locationtype="outpost" multiplier="1" sold="false"/>
      <Price locationtype="city" multiplier="0.9" sold="false"/>
      <Price locationtype="research" multiplier="1" sold="false"/>
      <Price locationtype="military" multiplier="1" sold="false"/>
      <Price locationtype="mine" multiplier="1.25" sold="false"/>
    </Price>
	<!-- 92
	42
	(75)
	30
	15.5
	5
	-->
    <Deconstruct time="10">
      <Item identifier="aluminium" />
      <Item identifier="ethanol" outcondition="0.5" />
      <Item identifier="calcium" outcondition="0.5" />
      <Item identifier="potassium" outcondition="0.5" />
    </Deconstruct>
    <Fabricate suitablefabricators="fabricator" requiredtime="15">
      <RequiredSkill identifier="medical" level="75" />
      <RequiredItem identifier="aluminium" />
      <RequiredItem identifier="oxygentank" mincondition="0.99" usecondition="true"/>
      <RequiredItem identifier="ethanol" />
      <RequiredItem identifier="calcium" />
      <RequiredItem identifier="potassium" />
    </Fabricate>
    <InventoryIcon texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="128,288,64,64" origin="0.5,0.5" />
    <Sprite texture="Mods/EK Utilities/Items/Diving/ekutility_divinggear.png" sourcerect="64,224,48,112" depth="0.55" origin="0.5,0.5" />
    <Body width="22" height="64" density="9.9" />
    <Holdable canbecombined="true" slots="Any,RightHand,LeftHand" holdpos="30,-15" handle1="0,5" handle2="0,-5" msg="ItemMsgPickUpSelect"/>
  </Item>

</Items>